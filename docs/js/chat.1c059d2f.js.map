{"version":3,"sources":["webpack:///./src/views/chat/Chat.vue?9891","webpack:///src/views/chat/Chat.vue","webpack:///./src/views/chat/Chat.vue?d346","webpack:///./src/views/chat/Chat.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","on","$event","preventDefault","submitFormMessage","attrs","_l","v","k","key","_s","userId","message","staticRenderFns","name","data","created","unsubscribe","beforeDestroy","console","debug","methods","form","firebase","onMessage","msg","$set","onMessageError","error","component"],"mappings":"6GAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,UAAU,CAACA,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,KAAK,CAACJ,EAAIO,GAAG,UAAUH,EAAG,OAAO,CAACI,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBV,EAAIW,kBAAkBF,MAAW,CAACL,EAAG,QAAQ,CAACQ,MAAM,CAAC,KAAO,OAAO,KAAO,aAAaR,EAAG,SAAS,CAACJ,EAAIO,GAAG,cAAcH,EAAG,MAAM,CAACE,YAAY,WAAWN,EAAIa,GAAIb,EAAY,UAAE,SAASc,EAAEC,GAAG,OAAOX,EAAG,MAAM,CAACY,IAAID,GAAG,CAACX,EAAG,OAAO,CAACJ,EAAIO,GAAGP,EAAIiB,GAAGH,EAAEI,WAAWlB,EAAIO,GAAG,OAAOH,EAAG,OAAO,CAACJ,EAAIO,GAAGP,EAAIiB,GAAGH,EAAEK,iBAAgB,UACrkBC,EAAkB,G,YCwBtB,GACEC,KAAM,OAENC,KAAM,WAAR,OACA,iBACA,cAGEC,QARF,WASI,IAAJ,4DACItB,KAAKuB,YAAcA,GAGrBC,cAbF,WAcIC,QAAQC,MAAM,gBAAiB1B,KAAKuB,aAChCvB,KAAKuB,cACPE,QAAQC,MAAM,oBACd1B,KAAKuB,gBAITI,QAAS,CACPjB,kBADJ,SACA,GACM,IAAN,WACMe,QAAQC,MAAME,GACd,IAAN,8BAIMC,EAAN,8BAGIC,UAXJ,SAWA,GACML,QAAQC,MAAMK,GACd/B,KAAKgC,KAAKhC,KAAM,WAAY+B,IAG9BE,eAhBJ,SAgBA,GACMR,QAAQC,MAAMQ,MC/DyU,I,YCOzVC,EAAY,eACd,EACArC,EACAqB,GACA,EACA,KACA,KACA,MAIa,aAAAgB,E","file":"js/chat.1c059d2f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"chat\"},[_c('section',[_c('div',{staticClass:\"container\"},[_c('h1',[_vm._v(\"Chat\")]),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.submitFormMessage($event)}}},[_c('input',{attrs:{\"type\":\"text\",\"name\":\"message\"}}),_c('button',[_vm._v(\"Entrar\")])]),_c('div',{staticClass:\"console\"},_vm._l((_vm.messages),function(v,k){return _c('div',{key:k},[_c('span',[_vm._v(_vm._s(v.userId))]),_vm._v(\" : \"),_c('span',[_vm._v(_vm._s(v.message))])])}),0)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"chat\">\n    <section>\n      <div class=\"container\">\n        <h1>Chat</h1>\n\n        <form @submit.prevent=\"submitFormMessage($event)\">\n          <input type=\"text\" name=\"message\" />\n          <button>Entrar</button>\n        </form>\n\n        <div class=\"console\">\n          <div v-for=\"(v, k) in messages\" :key=\"k\">\n            <span>{{ v.userId }}</span> :\n            <span>{{ v.message }}</span>\n          </div>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nimport firebase from \"@/services/firebase\";\n\nexport default {\n  name: \"Chat\",\n\n  data: () => ({\n    unsubscribe: null,\n    messages: {},\n  }),\n\n  created() {\n    const unsubscribe = firebase.chat.onMessage(this.onMessage, this.onMessageError);\n    this.unsubscribe = unsubscribe;\n  },\n\n  beforeDestroy() {\n    console.debug(\"beforeDestroy\", this.unsubscribe);\n    if (this.unsubscribe) {\n      console.debug(\"this.unsubscribe\");\n      this.unsubscribe();\n    }\n  },\n\n  methods: {\n    submitFormMessage(event) {\n      const form = event.target;\n      console.debug(form);\n      const message = form.elements[\"message\"].value;\n\n      // firebase.user.writeUserData(username, `${username}@email.com`);\n      // firebase.user.readUserDataByEmail(\"ola@email.com\");\n      firebase.chat.sendMessage(\"1\", message);\n    },\n\n    onMessage(msg) {\n      console.debug(msg);\n      this.$set(this, \"messages\", msg);\n    },\n\n    onMessageError(error) {\n      console.debug(error);\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chat.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Chat.vue?vue&type=template&id=7f1feab5&\"\nimport script from \"./Chat.vue?vue&type=script&lang=js&\"\nexport * from \"./Chat.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}